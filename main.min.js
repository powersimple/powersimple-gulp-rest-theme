var increment="vw",orientation="vertical",_w=jQuery(window).width(),_h=jQuery(window).height();function calibrateCircle(e,t,i){jQuery(e).css("width",t+i),jQuery(e).css("height",t+i),jQuery(e).css("margin-left",t/2*-1+i),jQuery(e).css("margin-top",t/2*-1+i)}function pinSlider(){_h<=_w?(orientation="vertical",slider_left=_w/2+.8*_h/2+24+"px",console.log(slider_left),jQuery("#slider.ui-slider-vertical").css("left",slider_left),jQuery("#slider.ui-slider-vertical").css("top","19.9%")):(orientation="horizontal",slider_top=_h/2+.8*_w/2+24+"px",jQuery("#slider.ui-slider-horizontal").css("top",slider_top),jQuery("#slider.ui-slider-horizontal").css("left","19.9%"))}function reposition_screen(){jQuery("#main").css("height","100vw"),jQuery("#main").css("width","100vh"),console.log(_w,_h),setSlider(),pinSlider(),jQuery("#slider").css("visibility","visible");for(var e=[{id:".phi-centered",size:61.8,increment:"vw"},{id:"#outer-ring",size:80,increment:"vw"},{id:"#inner-ring",size:75,increment:"vw"},{id:"#inner-subring",size:68,increment:"vw"}],t=0;t<e.length;t++){var i=e[t];_w<540&&(i.size+=14),_h<_w?("vw"==i.increment&&(i.increment="vh"),calibrateCircle(i.id,i.size,i.increment),jQuery(".slick-track").css("height","61.8vh")):(calibrateCircle(i.id,i.size,i.increment),jQuery(".slick-track").css("height","61.8vw"))}jQuery("#stars").css("height","100vh"),jQuery("#stars").css("width","100vw")}function setSlideContent(e,t){null!=posts[t]?(jQuery("#slide"+e+" h2").html(posts[+t].title),jQuery("#slide"+e+" section div.content").html(posts[+t].content),$carousel.slick("slickGoTo",e)):console.log("post undefined",e,t,posts)}function setContent(e,t,i){var n=posts_nav[t];console.log("setContent",t,i);var s=site_title;if("category"==i){console.log("set_content cat",t,categories[t].children);var r=[],o=categories[t].children;if(0<o.length){for(c=0;c<o.length;c++)r.push({id:categories[o[c]].id,title:categories[o[c]].name,type:"category",children:categories[o[c]].children});makeWheelNav(e,r,inner_subnav_params)}}else null!=posts[t]&&(s=posts[t].title+" | "+site_title,document.title=s,location.hash=posts[t].slug);setSlideContent(n,t)}function displayPage(e,t){var n="";if(0<t.length){for(n="<ul class='nav_project'>",i=0;i<post_ids.length;i++)displayProjectCard(t[i]);n+="</ul>"}jQuery("#project-nav").html(n)}function displayPosts(e,t){if(0<t.length){for("<ul class='nav_project'>",i=0;i<post_ids.length;i++);"</ul>"}}function displayProjects(e,t){var n="";if(0<t.length){for(type=data[i].type,t["p"+data[i].id]=data[i],n="<ul class='nav_project'>",i=0;i<post_ids.length;i++)displayProjectCard(t[i]);n+="</ul>"}jQuery("#project-nav").html(n)}function displayProjectCard(e){var t='<li class="project-card">';return t+=posts[e].title,t+="</li>"}function menu_order(e,t){return e.menu_order<t.menu_order?-1:e.menu_order>t.menu_order?1:0}function post_order(e,t){return e<t?-1:t<e?1:0}function setLinearNav(e){var t=0;for(var i in e.items)e.items[i].post=posts[e.items[i].object_id],id=e.items[i].object_id.toString(),linear_nav.push(e.items[i]),posts_nav[id]=t,t++;linear_nav.sort(menu_order),setSlider(linear_nav),setSlides(linear_nav),console.log("posts_nav",posts_nav)}function displayMenus(){var e=[];for(var t in menus)if(null!=menu_config[t]){for(var i in menu_array=[],menus[t].items)0==menus[t].items[i].parent&&menu_array.push(menus[t].items[i]);menu_array.sort(menu_order);for(var n=[],s=0;s<menu_array.length;s++){n=[];for(var r=0;r<menu_array[s].children.length;r++)n.push({title:menus[t].items[menu_array[s].children[r]].title,id:menus[t].items[menu_array[s].children[r]].id,object:menus[t].items[menu_array[s].children[r]].object,object_id:menus[t].items[menu_array[s].children[r]].object_id,children:menus[t].items[menu_array[s].children[r]].children});e.push({title:menu_array[s].title,id:menu_array[s].id,object:menu_array[s].object,object_id:menu_array[s].object_id,children:n})}setLinearNav(menus[t]),jQuery(menu_config[t].location).html(""),"wheel"==menu_config[t].menu_type&&makeWheelNav("outer-nav",e,menu_config[t]._p),setSlideShow()}}function displayTags(e,t){for(var i in t);}function displayCategories(e,t){var i="<ul class='nav_cat'>";for(var n in t)i+=navTab(t[n]);i+="</ul>",jQuery(e).html(i)}jQuery(document).ready(function(){console.log("location hash="+location.hash),reposition_screen()}),jQuery(window).resize(function(){_w=jQuery(window).width(),_h=jQuery(window).height(),increment=_h<_w?"vh":"vw",reposition_screen()}),jQuery("#portfolio").on("click",".nav__item",function(){var e=jQuery(this).data("id");displayProjects(categories[e].category_posts)});var posts={},categories={},tags={},menus={},linear_nav=[],posts_nav={},posts_slug_ids={};function getStaticJSON(e,n,s){var r=json_path+e+".json";jQuery.ajax({url:r,data:"",success:function(e,t,i){return n(e,s)},error:function(e,t,i){console.log(r,e.responseText)},cache:!1})}function setPosts(e,t){var i="post";if(Array.isArray(e))for(var n=0;n<e.length;n++)void 0!==e[n].title&&void 0!==e[n].title.rendered&&(e[n].title=e[n].title.rendered),void 0!==e[n].content&&void 0!==e[n].content.rendered&&(e[n].content=e[n].content.rendered),void 0!==e[n].type&&(i=e[n].type,posts[e[n].id]=e[n]);else i=e.type,posts[e.id]=e;if(void 0!==i)switch(i){case i="project":case i="post":case i="page":}return posts}function setMenuItem(e){return this_item={},this_item.menu_id=e.ID,this_item.title=e.title,this_item.slug=e.slug,this_item.menu_order=e.menu_order,this_item.object=e.object,this_item.object_id=e.object_id,this_item.parent=e.menu_item_parent,this_item.children=[],this_item}function setMenu(e,t,i){menu={};for(var n=0;n<i.length;n++)menu[i[n].ID]=setMenuItem(i[n]),0!=i[n].menu_item_parent&&menu[i[n].menu_item_parent].children.push(i[n].ID),menus[e].menu_array.push(menu[i[n].ID]);return menu}function setMenus(e,t){menus[t]={},menus[t].menu_array=[];for(var i=0;i<e.length;i++)menus[e[i].slug]={},menus[e[i].slug].name=e[i].name,menus[e[i].slug].items=setMenu(t,e[i].slug,e[i].items);displayMenus()}function setChildCategories(e,t){for(var i=0;i<e.length;i++)categories[e[i].id]=e[i];return e}function setCategories(e,t){for(var i=0;i<e.length;i++)categories[e[i].id]=e[i];return console.log("categories",categories),e}function setTags(e,t){for(var i=0;i<e.length;i++)tags[e[i].id]=e[i];return displayTags(t,tags),e}getStaticJSON("posts",setPosts,"#posts"),getStaticJSON("pages",setPosts,"#pages"),getStaticJSON("project",setPosts,"#projects"),getStaticJSON("categories",setCategories,"#category-menu"),getStaticJSON("tags",setTags,"tags"),getStaticJSON("menus",setMenus,"#main-menu");var gotoslide=function(e){console.log("click on slick dot ",e),setSlideContent(notch,linear_nav[e].object_id),$(".slideshow").slickGoTo(parseInt(e))};function setSlideShow(){jQuery(".slideshow").slick({dots:!1,arrows:!0,infinite:!0,speed:1e3,fade:!0,cssEase:"linear",focusoOnSelect:!0,nextArrow:'<i class="slick-arrow slick-next"></i>',prevArrow:'<i class="slick-arrow slick-prev"></i>'})}function setSlide(e,t){return e='\n<div><div id="slide'+e+'" data-id="'+t+'" class="slide-wrap">',e+="\n\t<h2></h2>",e+='\n\t<div class="img-wrap"></div>',e+='\n\t<section><div class="content"></div></section>',e+="\n</div></div>\n"}function setSlides(){var e="0",t="";if(console.log("Begin Render Slides",linear_nav,posts),null==posts)console.log("No Posts Data Yet",posts),window.setTimeout(setSlides(),100);else{for(i=0;linear_nav[i];i++)e=linear_nav[i].object_id.toString(),t+=setSlide(i,e);console.log("slides rendered"),jQuery("#article").html(t)}}jQuery(".slick-dots li button").on("click",function(e){e.stopPropagation(),console.log("slick dot clicked")});var $carousel=jQuery(".slideshow");function setSlider(){jQuery("#slider").slider({orientation:orientation,range:"max",min:0,max:linear_nav.length,value:0,slide:function(e,t){setSliderNotch(t.value),console.log("slider",t.value)}})}function setSliderNotch(e){console.log("notch",e,linear_nav[e].object_id),null!=linear_nav[e]&&setContent(e,linear_nav[e].object_id)}jQuery(document).on("keydown",function(e){37==e.keyCode&&$carousel.slick("slickPrev"),39==e.keyCode&&$carousel.slick("slickNext")}),jQuery("a[data-slide]").click(function(e){console.log("click on slick dot ",t),e.preventDefault();var t=jQuery(this).data("slide");console.log("click on slick dot ",t),setSlideContent(notch,linear_nav[t].object_id)}),jQuery("#slider").on("mousewheel",function(e){e.preventDefault(),value=jQuery("#slider").slider("value"),-1==e.deltaY?(value+=1,setSliderNotch(value)):1==e.deltaY&&(value-=1,setSliderNotch(value))});var camera,scene,renderer,stars=[];function init(){(camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e3)).position.z=5,scene=new THREE.Scene,(renderer=new THREE.WebGLRenderer).setSize(window.innerWidth,window.innerHeight),jQuery("#stars").append(renderer.domElement)}function addSphere(){for(var e=-1e3;e<1e3;e+=20){var t=new THREE.SphereGeometry(.5,32,32),i=new THREE.MeshBasicMaterial({color:16777215}),n=new THREE.Mesh(t,i);n.position.x=1e3*Math.random()-500,n.position.y=1e3*Math.random()-500,n.position.z=e,n.scale.x=n.scale.y=2,scene.add(n),stars.push(n)}}function animateStars(){for(var e=0;e<stars.length;e++)star=stars[e],star.position.z+=e/10,1e3<star.position.z&&(star.position.z-=2e3)}function render(){requestAnimationFrame(render),renderer.render(scene,camera),animateStars()}init(),addSphere(),render(),jQuery(window).on("resize",function(){renderer.setSize(window.innerWidth,window.innerHeight)});var menu_config={"top-menu":{menu_type:"wheel",location:"#outer-nav",_p:{maxPercent:1,min:.91,max:1,sel_min:.91,sel_max:1}}},inner_nav_params={maxPercent:1,min:.91,max:1,sel_min:.91,sel_max:1},inner_subnav_params={maxPercent:1,min:.9,max:1,sel_min:.9,sel_max:1},menu_raphael={},wheels={};function makeWheelNav(e,t,i){"outer-nav"==e?(child_dest="inner-nav",child_params=inner_nav_params):"inner-nav"==e&&(child_dest="inner-subnav",child_params=inner_subnav_params);var n=[],s=[];for(wheels[e]=new wheelnav(e),wheels[e].spreaderEnable=!1,wheels[e].cssMode=!0,wheels[e].navAngle=270,wheels[e].maxPercent=i.maxPercent,wheels[e].slicePathFunction=slicePath().DonutSlice,wheels[e].slicePathCustom=slicePath().PieSliceCustomization(),wheels[e].slicePathCustom.minRadiusPercent=i.min,wheels[e].slicePathCustom.maxRadiusPercent=i.max,wheels[e].sliceSelectedPathCustom=slicePath().PieSliceCustomization(),wheels[e].sliceSelectedPathCustom.minRadiusPercent=i.sel_min,wheels[e].sliceSelectedPathCustom.maxRadiusPercent=i.sel_max,wheels[e].titleSelectedAttr={},a=0;a<t.length;a++)n.push(t[a].title),s.push(t[a].id);wheels[e].initWheel(n);var r=360/wheels[e].navItemCount,o=90;for(a=0;a<wheels[e].navItemCount;a++)wheels[e].navItems[a].titleRotateAngle=o,o=r+(90-r);wheels[e].createWheel();for(var a=counter=0;a<wheels[e].navItemCount;a++)type=t[a].type,"category"==type&&(t[a].object="category",t[a].object_id=t[a].id),wheels[e].navItems[a].data=t[a],posts[t[a].id]=t[a],wheels[e].navItems[a].navigateFunction=function(){0<this.data.children.length?makeWheelNav(child_dest,this.data.children,child_params):wheels[child_dest],setContent(child_dest,this.data.object_id,this.data.object)};menu_raphael[e]=wheels[e].raphael,reposition_screen()}window.onload=function(){};