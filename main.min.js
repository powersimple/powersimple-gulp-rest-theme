var posts={},taxonomies={},categories={},tags={},menus={},media={},linear_nav=[],posts_nav={},posts_slug_ids={},slug_nav={},data_nav=[],last_dest="outer-nav",menu_levels=[],related={},increment="vw",orientation="vertical",_w=jQuery(window).width(),_h=jQuery(window).height(),aspect=_w/_h,current_notch=0,menu_config={"top-menu":{menu_type:"wheel",location:"#outer-nav",_p:{maxPercent:1,min:.91,max:1,sel_min:.91,sel_max:1}},"social-links":{menu_type:"social",location:"#social",_p:{maxPercent:1,min:.91,max:1,sel_min:.91,sel_max:1}},projects:{menu_type:"projects",location:"#projects",_p:{maxPercent:1,min:.91,max:1,sel_min:.91,sel_max:1}}},inner_nav_params={maxPercent:1,min:.91,max:1,sel_min:.91,sel_max:1},inner_subnav_params={maxPercent:1,min:.9,max:1,sel_min:.9,sel_max:1},last_outer_notch=0,last_inner_notch=0,menu_raphael={},wheels={};function init(){}function calibrateCircle(e,n,t){jQuery(e).css("width",n+t),jQuery(e).css("height",n+t),jQuery(e).css("margin-left",n/2*-1+t),jQuery(e).css("margin-top",n/2*-1+t)}function pinSlider(){_h<=_w?(orientation="vertical",slider_left=_w/2+.8*_h/2+_w/10+"px",jQuery("#slider-wrap").css("left",slider_left),jQuery("#slider-wrap").css("top","19.9%"),jQuery("#slider-wrap").css("height","67%"),jQuery("#slider-wrap").css("width","auto"),jQuery("#up-arrow").addClass("up-arrow-vertical"),jQuery("#up-arrow").removeClass("up-arrow-horizontal"),jQuery("#down-arrow").addClass("down-arrow-vertical"),jQuery("#down-arrow").removeClass("down-arrow-horizontal")):(orientation="horizontal",slider_top=_h/2+.8*_w/2+24+"px",jQuery("#slider-wrap").css("top",slider_top),jQuery("#slider-wrap").css("left","19.9%"),jQuery("#slider-wrap").css("width","68%"),jQuery("#slider-wrap").css("height","auto"),jQuery("#up-arrow").removeClass("up-arrow-vertical"),jQuery("#up-arrow").addClass("up-arrow-horizontal"),jQuery("#down-arrow").removeClass("down-arrow-vertical"),jQuery("#down-arrow").addClass("down-arrow-horizontal"))}function positionProjector(){var e=50,n="20vw",t="20vw";1.15<aspect&&aspect<1.5?(e=100*(aspect-1)+"%",t=n="10vw",fontSize=1.2):.5<aspect&&aspect<=1.15?(e="20%",t=n="15vw",fontSize=1):1.5<=aspect&&(e="50%",t=n="20vw",fontSize=1.5),jQuery("#featured-image-wrap").css("top",e),jQuery("#featured-image-wrap").css("width",n),jQuery("#featured-image-wrap").css("height",t),jQuery("#featured-image-header").css("fontSize",fontSize+"em"),jQuery("#featured-image-footer").css("fontSize",.8*fontSize+"em"),console.log("aspect",aspect,e)}function logoSize(){}function reposition_screen(){jQuery("#main").css("height","100vw"),jQuery("#main").css("width","100vh"),setSlider(),positionProjector(),pinSlider(),logoSize(),jQuery("#slider").css("visibility","visible");for(var e=[{id:".phi-centered",size:61.8,increment:"vw"},{id:"#outer-ring",size:80,increment:"vw"},{id:"#inner-ring",size:72,increment:"vw"},{id:"#inner-subring",size:65,increment:"vw"}],n=0;n<e.length;n++){var t=e[n];_h<_w?("vw"==t.increment&&(t.increment="vh"),calibrateCircle(t.id,t.size,t.increment),jQuery(".slick-track").css("height","61.8vh")):(calibrateCircle(t.id,t.size,t.increment),jQuery(".slick-track").css("height","61.8vw"))}jQuery("#matrix").css("height","100vh"),jQuery("#matrix").css("width","100vw"),jQuery("#stars").css("height","100vh"),jQuery("#stars").css("width","100vw")}jQuery(document).ready(function(){jQuery(".wheelnav-outer-nav-title").css("display:none;"),reposition_screen()}),jQuery(window).resize(function(){_w=jQuery(window).width(),_h=jQuery(window).height(),increment=_h<_w?"vh":"vw",aspect=_w/_h,reposition_screen()});var delay,photoCount=6,pieceCount=6,onPhoto=0,pieceCompleteCount=0,transitions=["center","random"],transitionType=0,images=[],viewerDest=null;function circleViewer(e,n){console.log("CIRCLE VIEWER PRELOAD",e,n),n=n,viewerDest=e;for(var t=0;t<n.length;t++)jQuery("#preload").append('<img src="'+n[t].src+'">');loadCircleViewer(e,n)}function loadCircleViewer(e,n){jQuery(e+"-container").html("");for(var t=0;t<n.length;t++){var r=(100-100/pieceCount*t)/100*100,a=100+(100-r)/r*100,i=100/pieceCount*t/2;jQuery(e+"-container").append('<div class="section" id="piece'+t+'" style="top: '+i+"%; left: "+i+"%; width: "+r+"%; height: "+r+"%; background-size:"+a+"%; background-image: url("+n[t].src+')"></div>')}nextSlide(n)}function nextSlide(e){clearInterval(delay),pieceCompleteCount=0,photoCount<=++onPhoto&&(onPhoto=0),console.log("next",e);for(var n=0;n<e.length;n++){var t=0,r=360,a=jQuery("#piece"+n),i=e[n];switch(transitions[transitionType]){case"random":t=Math.random()/2,r=360*Math.random();break;case"center":t=(pieceCount-n)/10,r=181}TweenMax.to(a,1,{delay:t,directionalRotation:r+"_long",onComplete:completeRotation,onCompleteParams:[a,i],ease:Power4.easeIn})}}function completeRotation(e,n){console.log("piece",e),e.css("background-image","url("+n.src+")"),TweenMax.to(e,2,{directionalRotation:"0_short",onComplete:finishPieceanimation,ease:Elastic.easeOut})}function finishPieceanimation(){++pieceCompleteCount==pieceCount&&(delay=setInterval(nextSlide,1e3))}function setContent(e,n,t){var r=posts_nav[n];posts[n].featured_media;if(console.log("setContent",n,t,posts[n]),null!=posts[n]){console.log("selected post",posts[n]),page_title=posts[n].title+" | "+site_title,document.title=page_title,setImage(posts[n].featured_media,"#featured-image","square");uploads_path,posts[n].featured_video.video_path;setVideo(posts[n].featured_video.video_id,"#bg-video"),setRelated(posts[n]),0<posts[n].screen_images.length?setScreenImages(posts[n].screen_images,"#screen-image","circleViewer"):jQuery("#screen-image-container").html(""),console.log("tags",posts[n].tags)}setSlideContent(r,n)}function getStaticJSON(e,r){var n=json_path+e+".json";jQuery.ajax({url:n,data:"",success:function(e,n,t){return r(e)},error:function(e,n,t){},cache:!1})}function setMedia(e,n){for(var t=0;t<e.length;t++)media[e[t].id]=e[t].data;console.log("media",media)}function setPosts(e){var n="post";if(Array.isArray(e))for(var t=0;t<e.length;t++)void 0!==e[t].title&&void 0!==e[t].title.rendered&&(e[t].title=e[t].title.rendered),void 0!==e[t].content&&void 0!==e[t].content.rendered&&(e[t].content=e[t].content.rendered),void 0!==e[t].type&&(n=e[t].type,posts[e[t].id]=e[t]);else n=e.type,posts[e.id]=e;if(void 0!==n)switch(n){case n="project":case n="post":case n="page":}return console.log(n,posts),posts}function setMenuItem(e){var n={};return n.menu_id=e.id,n.title=e.title,n.menu_order=e.menu_order,n.object=e.object,n.object_id=e.object_id,n.parent=e.menu_item_parent,n.slug=e.slug,n.url=e.url,n.children=[],n}function setMenu(e,n){menu={};for(var t=0;t<n.length;t++)menu[n[t].id]=setMenuItem(n[t]),0!=n[t].menu_item_parent&&menu[n[t].menu_item_parent].children.push(n[t].id),menus[e].menu_array.push(menu[n[t].id]);return console.log("SetMenu",e,menu),menu}function setMenus(e){console.log("raw menu data",e);for(var n=0;n<e.length;n++)menus[e[n].slug]={},menus[e[n].slug].name=e[n].name,menus[e[n].slug].menu_array=[],menus[e[n].slug].slug=e[n].slug,menus[e[n].slug].items=setMenu(e[n].slug,e[n].items),menus[e[n].slug].levels=setMenuLevels(e[n].slug);console.log("MENUS",menus)}function setChildCategories(e){for(var n=0;n<e.length;n++)categories[e[n].id]=e[n];return e}function setCategories(e){for(var n=0;n<e.length;n++)categories[e[n].id]=e[n];return console.log("categories",categories),e}function setTags(e){for(var n=0;n<e.length;n++)tags[e[n].id]=e[n];return console.log("tags",tags),e}console.log("circleviwer loaded"),getStaticJSON("posts",setPosts),getStaticJSON("pages",setPosts),getStaticJSON("project",setPosts),getStaticJSON("categories",setCategories),getStaticJSON("tags",setTags),getStaticJSON("menus",setMenus),getStaticJSON("media",setMedia);var columns,drops,drawnToBottom,canvas=document.getElementById("matrix"),ctx=canvas.getContext("2d"),fontSize=18,chars=generateChars();function generateChars(){for(var e="0123456789",n=0;n<=55;n++)e+=String.fromCharCode(n+65382);return e.split("")}function initCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,columns=Math.round(canvas.width/fontSize),drops=[];for(var e=0;e<columns;e++)drops[e]=1;drawnToBottom=!1}function draw(){ctx.fillStyle="rgba(0, 0, 0, 0.05)",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.fillStyle="#19FF19",ctx.font="bold "+fontSize+"px monospace";for(var e=drops.length,n=chars.length,t=0;t<e;t++){var r=chars[Math.floor(Math.random()*n)],a=drops[t]*fontSize;ctx.fillText(r,t*fontSize,a),a>canvas.height&&(drawnToBottom=!0),(!drawnToBottom&&.925<Math.random()||drawnToBottom&&.95<Math.random())&&(drops[t]=0),drops[t]++}}function setImage(e,n,t){if(setMediaText(e,n),console.log("set image",media[e]),null!=media[e]){jQuery(n+"-wrap").attr("visibility","hidden");var r=uploads_path+media[e].path,a=media[e].file;if("image/svg+xml"==media[e].mime||("square"==t?(a=getSquareVersion(media[e].meta.sizes,n),console.log(a)):a=media[e].meta.sizes[t]),""==n)return console.log("Src return",r+a),r+a;jQuery(n).attr("src",r+a),setMediaText(e,n),jQuery(n+"-wrap").css("visibility","visible")}else jQuery(n+"-wrap").css("visibility","hidden")}function setFeatured(e,n){if(null!=posts[e]&&0<posts[e].featured_media)return setImage(posts[e].featured_media,"",n)}function wrapTag(e,n){return"<"+e+">"+n+"</"+e+">"}function setMediaText(e,n){null!=media[e]?(console.log("caption",media[e]),jQuery(n+"-title").html(media[e].title),jQuery(n+"-caption").html(media[e].caption),jQuery(n+"-description").html(media[e].desc),jQuery(n).attr("alt",media[e].alt)):(console.log("clear media text",n),jQuery(n+"-title").html(""),jQuery(n+"-caption").html(""),jQuery(n+"-description").html(""),jQuery(n).attr("alt",""))}function getSquareVersion(e,n){return box={w:jQuery(n).parent().width(),h:jQuery(n).parent().height()},console.log("box",box),1280<box.w||1280<box.h?(console.log("sq-lg"),e["sq-lg"]):(250<box.w||250<box.h)&&(box.w<=1280||box.h<=1280)?(console.log("sq-med"),e["sq-med"]):(console.log("sq-sm"),e["sq-sm"])}function setVideo(e,n){if(null!=media[e]){var t=uploads_path+media[e].path,r=media[e].file;jQuery(n+" video source").attr("src",t+r);jQuery(n).css("display","block"),console.log("unhide video player"),jQuery(n+" video")[0].load(),jQuery(n+" video source").attr("src",t+r)}else console.log("no video, hide player"),jQuery(n).css("display","none")}function setScreenImages(e,n,t){for(var r=[],a=0;a<e.length;a++)r.push({src:setImage(e[a],"","square"),data:media[e[a]]});circleViewer(n,r),console.log("setScreenImages",e,n,r)}function setMenuLevels(e){levels=[];var n=menus[e].items;for(i in n)0==n[i].parent&&(console.log("level0",i,n[i]),levels.push(menuLevelItem(n[i],n)));console.log("menulevels",levels)}function menuLevelItem(e,n){return 0<e.children.length&&console.log(e.menu_id,e.children),menuLevelData(e)}function menuLevelData(e){return{title:e.title,id:e.id,slug:e.slug,object:e.object,object_id:e.object_id,children:e.children,url:e.url}}function buildMenuData(){var e=[];for(var n in menus)if(console.log("set linear",n,menu),null!=menu_config[n]){console.log("MENU ARRAY",menu_array);for(var t=[],r=0;r<menu_array.length;r++)t=[],console.log(menu_array[r]),e.push({title:menu_array[r].title,slug:slug,object:menu_array[r].object,object_id:menu_array[r].object_id,children:t,url:url})}}function setLinearNav(e,n){console.log("set linear",e,n);var t=0,r=[],a=[];for(var i in n.items)n.items[i].post=posts[n.items[i].object_id],id=n.items[i].object_id.toString(),r.push(n.items[i]),a[id]=t,t++;r.sort(menu_order),menus[e].linear=r,menus[e].posts=a}function setLinearDataNav(e){for(var n=0,t=0,r=0,a=0,i="outer-nav",s=0;s<e.length;s++){i="outer-nav",e[s].dest=i,e[s].slice=t,r=e[s].notch=n,data_nav.push(e[s]),slug_nav[e[s].slug]=n,n++;for(var o=0;o<e[s].children.length;o++){e[s].children[o].dest="inner-nav",e[s].children[o].slice=o,e[s].children[o].notch=n,e[s].children[o].parent=r,a=n,data_nav.push(e[s].children[o]),slug_nav[e[s].children[o].slug]=n,n++;for(var l=0;l<e[s].children[o].children.length;l++)e[s].children[o].children[l].dest="inner-subnav",e[s].children[o].children[l].slice=l,e[s].children[o].children[l].notch=n,e[s].children[o].children[l].grandparent=r,e[s].children[o].children[l].parent=a,data_nav.push(e[s].children[o].children[l]),slug_nav[e[s].children[o].children[l].slug]=n,n++}t++}console.log("dataNav",data_nav)}function menu_order(e,n){return e.menu_order<n.menu_order?-1:e.menu_order>n.menu_order?1:0}function setRelated(e){var n=null;(related={}).cats={},related.tags={};var t={cats:categories,tags:tags};for(var r in related)for(var a=0;a<e[r].length;a++)for(var i=0;i<t[r][e[r][a]].posts.length;i++)if(n=t[r][e[r][a]].posts[i],e.id!=n&&null!=posts[n]){var s=posts[n].type;null==related[r][s]&&(related[r][s]=[]),related[r][s].push(n)}delete t,displayRelated()}function displayRelated(){for(var e in jQuery("#related").html(""),rel_list="",related){for(var n in rel_list+='<ul class="'+e+'">',related[e])for(var t=0;t<related[e][n].length;t++){post_id=related[e][n][t];var r="",a=setFeatured(post_id,"thumbnail");console.log("set related",a,post_id),""!=a&&(r=' style="background-image:url('+a+')"'),rel_list+="<li "+r+' class="ui-widget '+n+'" data-rel="'+post_id+'">',console.log("related post",post_id),rel_list+=post_id,rel_list+="</li>"}rel_list+="</ul>"}jQuery("#related").html(rel_list)}function tipHoverContent(e){console.log("hover tip",e);var n="";return"project"==posts[e].type&&(n+='<span class="hover-title">'+posts[e].project_info.client+"</span>",""!=posts[e].project_info.agency&&(n+='<span class="hover-sub">'+posts[e].project_info.agency+"</span>")),n}function selectRelatedPost(e){"project"==posts[e].type&&(setSliderNotch(1),console.log("projects ",menus.projects))}window.onresize=function(){initCanvas()},initCanvas(),setInterval(draw,160),function(a){a(document).tooltip({items:"[data-rel]",content:function(){var e=a(this).data("rel"),n="",t="",r=setFeatured(e,"thumbnail");return""!=r&&(t=' style="background-image:url('+r+')"'),a(this).on("click",function(){selectRelatedPost(e)}).on("mouseover",function(){console.log("related"+e,"mouseover")}).on("mouseout",function(){console.log("related"+e,"mouseoout")}).on("mousedown",function(){console.log("related"+e,"mousedown")}).on("mouseup",function(){console.log("related"+e,"mouseup")}),n+='<div class="rel-tooltip"'+t+">",n+=tipHoverContent(e),n+="</div>"}})}(jQuery);var gotoslide=function(e){setSlideContent(notch,linear_nav[e].object_id),$(".slideshow").slickGoTo(parseInt(e))};function setSlideShow(){jQuery(".slideshow").slick({dots:!1,arrows:!0,infinite:!0,speed:1e3,fade:!0,cssEase:"linear",focusoOnSelect:!0,nextArrow:'<i class="slick-arrow slick-next"></i>',prevArrow:'<i class="slick-arrow slick-prev"></i>'}),console.log("set slideshow")}function setSlide(e,n){return e='\n<div><div id="slide'+e+'" data-id="'+n+'" class="slide-wrap">',e+="\n\t<h2></h2>",e+='\n\t<div class="img-wrap"></div>',e+='\n\t<section><div class="content"></div></section>',e+="\n</div></div>\n"}function setSlideContent(e,n){null!=posts[n]&&(jQuery("#slide"+e+" h2").html(posts[+n].title),jQuery("#slide"+e+" section div.content").html(posts[+n].content),$carousel.slick("slickGoTo",e))}function setSlides(){var e="0",n="";if(null==posts)window.setTimeout(setSlides(),100);else{for(i=0;linear_nav[i];i++)e=linear_nav[i].object_id.toString(),n+=setSlide(i,e);jQuery("#article").html(n)}}jQuery(".slick-dots li button").on("click",function(e){e.stopPropagation()});var $carousel=jQuery(".slideshow");function setSlider(){jQuery("#slider").slider({orientation:orientation,range:"max",min:0,max:linear_nav.length,value:0,slide:function(e,n){setSliderNotch(n.value),console.log("slider",n.value)}}),jQuery(".slick-dots li button").on("click",function(e){e.stopPropagation()})}function setSliderNotch(e){console.log("notch",data_nav[e],e),location.hash=posts[data_nav[e].object_id].slug,console.log("set slider notch",e,location.hash),jQuery("#slider").slider("value",e),null!=linear_nav[e]&&(setContent(e,data_nav[e].object_id,data_nav[e].object_id),triggerWheelNav(e)),current_notch=e}jQuery(document).on("keydown",function(e){37==e.keyCode&&$carousel.slick("slickPrev"),39==e.keyCode&&$carousel.slick("slickNext")}),jQuery("a[data-slide]").click(function(e){e.preventDefault();var n=jQuery(this).data("slide");setSlideContent(notch,linear_nav[n].object_id)}),function(r){r("div.arrow").on("click",function(e){e.stopPropagation();var n=r(this).attr("id"),t=current_notch;"down-arrow"==n?0==t?t=linear_nav.length-1:t--:"up-arrow"==n&&(t==linear_nav.length-1?t=0:t++),console.log("arrow_next",t),setSliderNotch(t)})}(jQuery);var camera,scene,renderer,stars=[];function init(){(camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e3)).position.z=5,scene=new THREE.Scene,(renderer=new THREE.WebGLRenderer).setSize(window.innerWidth,window.innerHeight),jQuery("#stars").append(renderer.domElement)}function addSphere(){for(var e=-1e3;e<1e3;e+=20){var n=new THREE.SphereGeometry(.5,32,32),t=new THREE.MeshBasicMaterial({color:16777215}),r=new THREE.Mesh(n,t);r.position.x=1e3*Math.random()-500,r.position.y=1e3*Math.random()-500,r.position.z=e,r.scale.x=r.scale.y=2,scene.add(r),stars.push(r)}}function animateStars(){for(var e=0;e<stars.length;e++)star=stars[e],star.position.z+=e/10,1e3<star.position.z&&(star.position.z-=2e3)}function render(){requestAnimationFrame(render),renderer.render(scene,camera),animateStars()}function makeWheelNav(e,n,t){"outer-nav"==e?(child_dest="inner-nav",child_params=inner_nav_params):"inner-nav"==e&&(child_dest="inner-subnav",child_params=inner_subnav_params);var r=[],a=[];for(wheels[e]=new wheelnav(e),wheels[e].spreaderEnable=!1,wheels[e].cssMode=!0,wheels[e].navAngle=270,wheels[e].selectedNavItem=2,wheels[e].selectedNavItemIndex=null,wheels[e].maxPercent=t.maxPercent,wheels[e].slicePathFunction=slicePath().DonutSlice,wheels[e].slicePathCustom=slicePath().PieSliceCustomization(),wheels[e].slicePathCustom.minRadiusPercent=t.min,wheels[e].slicePathCustom.maxRadiusPercent=t.max,wheels[e].sliceSelectedPathCustom=slicePath().PieSliceCustomization(),wheels[e].sliceSelectedPathCustom.minRadiusPercent=t.sel_min,wheels[e].sliceSelectedPathCustom.maxRadiusPercent=t.sel_max,wheels[e].titleSelectedAttr={},o=0;o<n.length;o++)r.push(n[o].title),a.push(n[o].id);wheels[e].initWheel(r);var i=360/wheels[e].navItemCount,s=90;for(o=0;o<wheels[e].navItemCount;o++)wheels[e].navItems[o].titleRotateAngle=s,s=i+(90-i);"outer-nav"==e&&0<n[0].children.length&&makeWheelNav("inner-nav",n[0].children,inner_nav_params),wheels[e].createWheel();for(var o=counter=0;o<wheels[e].navItemCount;o++)wheels[e].navItems[o].data=n[o],wheels[e].navItems[o].navigateFunction=function(){jQuery("#slider").slider("option","value",this.data.notch),setSliderNotch(slug_nav[this.data.slug])};menu_raphael[e]=wheels[e].raphael,reposition_screen()}function triggerWheelNav(e){var n=data_nav[e],t=n.dest;console.log("trigger wheel, notch:",n," | dest:",t),"outer-nav"==t?(null!=wheels["inner-nav"]&&wheels[t].navigateWheel(n.slice),popAWheelie("inner-nav"),0<n.children.length&&makeWheelNav("inner-nav",n.children,inner_nav_params),last_outer_notch=e):"inner-nav"==t?(console.log(last_outer_notch,last_inner_notch,e,n),last_outer_notch!=n.parent?(wheels["outer-nav"].navigateWheel(data_nav[n.parent].slice),makeWheelNav("inner-nav",data_nav[n.parent].children,inner_nav_params),wheels[t].navigateWheel(n.slice),last_outer_notch=n.parent):(wheels["outer-nav"].navigateWheel(data_nav[n.parent].slice),null!=wheels["inner-nav"]?(console.log(" != undefined"),wheels[t].navigateWheel(n.slice),null!=wheels["inner-subnav"]&&wheels["inner-subnav"].raphael.remove()):(console.log("  undefined"),makeWheelNav("inner-nav",data_nav[n.parent].children,inner_nav_params),wheels[t].navigateWheel(n.slice)),0<n.children.length?makeWheelNav("inner-subnav",n.children,inner_nav_params):popAWheelie("inner-subnav")),last_inner_notch=e):"inner-subnav"==t&&(last_outer_notch!=n.grandparent&&(wheels["outer-nav"].navigateWheel(data_nav[n.grandparent].slice),last_outer_notch=n.grandparent),last_inner_notch!=n.parent?(console.log("where have I gone wrong?",n),wheels["inner-nav"].navigateWheel(data_nav[n.parent].slice),makeWheelNav("inner-subnav",data_nav[n.parent].children,inner_nav_params),wheels["inner-subnav"].navigateWheel(n.slice),last_inner_notch=n.parent):null==wheels["inner-subnav"]?makeWheelNav("inner-subnav",n.children,inner_nav_params):wheels[t].navigateWheel(n.slice)),last_dest=t}function popAWheelie(e){"outer-nav"==e?null!=wheels["inner-nav"]&&(wheels["inner-nav"].raphael.remove(),null!=wheels["inner-subnav"]&&wheels["inner-subnav"].raphael.remove()):"inner-nav"==e&&null!=wheels["inner-subnav"]&&wheels["inner-subnav"].raphael.remove()}init(),addSphere(),render(),jQuery(window).on("resize",function(){renderer.setSize(window.innerWidth,window.innerHeight)});